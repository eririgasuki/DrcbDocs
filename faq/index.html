<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见问题 | 东莞农商云柜台项目 C 端文档</title>
    <meta name="description" content="快速熟悉框架配置,进入状态敏捷开发">
    
    
    <link rel="preload" href="/DrcbDocs/assets/css/0.styles.d15396c6.css" as="style"><link rel="preload" href="/DrcbDocs/assets/js/app.5f05759d.js" as="script"><link rel="preload" href="/DrcbDocs/assets/js/15.99c936f7.js" as="script"><link rel="prefetch" href="/DrcbDocs/assets/js/10.ed58935d.js"><link rel="prefetch" href="/DrcbDocs/assets/js/11.98ffa94a.js"><link rel="prefetch" href="/DrcbDocs/assets/js/12.42913104.js"><link rel="prefetch" href="/DrcbDocs/assets/js/13.4aab5801.js"><link rel="prefetch" href="/DrcbDocs/assets/js/14.16f79651.js"><link rel="prefetch" href="/DrcbDocs/assets/js/16.59fc46d2.js"><link rel="prefetch" href="/DrcbDocs/assets/js/17.71265d47.js"><link rel="prefetch" href="/DrcbDocs/assets/js/18.47a6a9d1.js"><link rel="prefetch" href="/DrcbDocs/assets/js/19.84efe2a2.js"><link rel="prefetch" href="/DrcbDocs/assets/js/2.5f8435fb.js"><link rel="prefetch" href="/DrcbDocs/assets/js/20.df6be6f5.js"><link rel="prefetch" href="/DrcbDocs/assets/js/21.d5dab7be.js"><link rel="prefetch" href="/DrcbDocs/assets/js/22.afd303ac.js"><link rel="prefetch" href="/DrcbDocs/assets/js/23.06388ba0.js"><link rel="prefetch" href="/DrcbDocs/assets/js/24.14936f27.js"><link rel="prefetch" href="/DrcbDocs/assets/js/25.c0c849f4.js"><link rel="prefetch" href="/DrcbDocs/assets/js/26.84effea4.js"><link rel="prefetch" href="/DrcbDocs/assets/js/27.e19cb001.js"><link rel="prefetch" href="/DrcbDocs/assets/js/28.f40dc1cc.js"><link rel="prefetch" href="/DrcbDocs/assets/js/29.c3f3e2bd.js"><link rel="prefetch" href="/DrcbDocs/assets/js/3.c54c861c.js"><link rel="prefetch" href="/DrcbDocs/assets/js/30.24108429.js"><link rel="prefetch" href="/DrcbDocs/assets/js/31.5e850f60.js"><link rel="prefetch" href="/DrcbDocs/assets/js/32.3238fab5.js"><link rel="prefetch" href="/DrcbDocs/assets/js/33.abcd4c94.js"><link rel="prefetch" href="/DrcbDocs/assets/js/34.ee334abf.js"><link rel="prefetch" href="/DrcbDocs/assets/js/35.f227d0cf.js"><link rel="prefetch" href="/DrcbDocs/assets/js/36.bf7bd705.js"><link rel="prefetch" href="/DrcbDocs/assets/js/37.b6f873bf.js"><link rel="prefetch" href="/DrcbDocs/assets/js/38.33f7986e.js"><link rel="prefetch" href="/DrcbDocs/assets/js/39.a24c6744.js"><link rel="prefetch" href="/DrcbDocs/assets/js/4.411d1756.js"><link rel="prefetch" href="/DrcbDocs/assets/js/40.d88c3c43.js"><link rel="prefetch" href="/DrcbDocs/assets/js/41.345c7f3c.js"><link rel="prefetch" href="/DrcbDocs/assets/js/42.4c31f71d.js"><link rel="prefetch" href="/DrcbDocs/assets/js/43.fffcbf7c.js"><link rel="prefetch" href="/DrcbDocs/assets/js/44.b60bcdbc.js"><link rel="prefetch" href="/DrcbDocs/assets/js/45.79d73d78.js"><link rel="prefetch" href="/DrcbDocs/assets/js/46.a2b28eee.js"><link rel="prefetch" href="/DrcbDocs/assets/js/47.6e6fecca.js"><link rel="prefetch" href="/DrcbDocs/assets/js/48.564854ce.js"><link rel="prefetch" href="/DrcbDocs/assets/js/49.9aa021f1.js"><link rel="prefetch" href="/DrcbDocs/assets/js/5.af2d245b.js"><link rel="prefetch" href="/DrcbDocs/assets/js/50.209d99cb.js"><link rel="prefetch" href="/DrcbDocs/assets/js/51.1eca88cc.js"><link rel="prefetch" href="/DrcbDocs/assets/js/52.c5b9e11e.js"><link rel="prefetch" href="/DrcbDocs/assets/js/53.6b146261.js"><link rel="prefetch" href="/DrcbDocs/assets/js/54.a85d2fe3.js"><link rel="prefetch" href="/DrcbDocs/assets/js/55.a0c23627.js"><link rel="prefetch" href="/DrcbDocs/assets/js/56.e1ec1b64.js"><link rel="prefetch" href="/DrcbDocs/assets/js/57.c1fc0f69.js"><link rel="prefetch" href="/DrcbDocs/assets/js/58.bb310962.js"><link rel="prefetch" href="/DrcbDocs/assets/js/59.c9ae8670.js"><link rel="prefetch" href="/DrcbDocs/assets/js/6.ea166292.js"><link rel="prefetch" href="/DrcbDocs/assets/js/60.41960d7a.js"><link rel="prefetch" href="/DrcbDocs/assets/js/61.cd95a9bc.js"><link rel="prefetch" href="/DrcbDocs/assets/js/62.e1848158.js"><link rel="prefetch" href="/DrcbDocs/assets/js/63.47dcd60b.js"><link rel="prefetch" href="/DrcbDocs/assets/js/64.11543628.js"><link rel="prefetch" href="/DrcbDocs/assets/js/65.94b79de3.js"><link rel="prefetch" href="/DrcbDocs/assets/js/66.c0a52390.js"><link rel="prefetch" href="/DrcbDocs/assets/js/7.62807c4b.js"><link rel="prefetch" href="/DrcbDocs/assets/js/8.26a742b7.js"><link rel="prefetch" href="/DrcbDocs/assets/js/9.4f33eddf.js">
    <link rel="stylesheet" href="/DrcbDocs/assets/css/0.styles.d15396c6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/DrcbDocs/" class="home-link router-link-active"><!----> <span class="site-name">东莞农商云柜台项目 C 端文档</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/DrcbDocs/" class="nav-link">Home</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/DrcbDocs/" class="nav-link">Home</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>快速开始</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>基础</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/DrcbDocs/development/" class="sidebar-link">开发</a></li><li><a href="/DrcbDocs/debug/" class="sidebar-link">调试</a></li><li><a href="/DrcbDocs/deploy/" class="sidebar-link">发布</a></li><li><a href="/DrcbDocs/faq/" class="active sidebar-link">常见问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DrcbDocs/faq/#应用启动问题" class="sidebar-link">应用启动问题</a></li><li class="sidebar-sub-header"><a href="/DrcbDocs/faq/#设备故障问题" class="sidebar-link">设备故障问题</a></li><li class="sidebar-sub-header"><a href="/DrcbDocs/faq/#通信上传问题" class="sidebar-link">通信上传问题</a></li></ul></li><li><a href="/DrcbDocs/tool/" class="sidebar-link">工具</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>C端功能模块</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>深入理解C端框架</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>编码规范</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="应用启动问题"><a href="#应用启动问题" aria-hidden="true" class="header-anchor">#</a> 应用启动问题</h2> <p>在启动应用时，可能会报错。</p> <p><img src="/DrcbDocs/assets/img/AppError.b3f3e9ed.png" alt="APP"></p> <p>需要定位是启动应用中的哪一步出错。</p> <p>可以在 <code>workspace\client\dotnet\Awp.SS.App.exe.config</code> 中查看有哪些启动任务。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--启动任务设置--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTaskConfiguration</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>urn:Awp.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>startupTasks</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>初始化环境路径<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.IntializeEnvironmentPath,Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>启动插件平台<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.StartPlatform, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>加载枚举项<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.LoadEnums, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>设置输入法<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.SetInputMethod, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>InputMethodName<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>*QQ*<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>InputMethodMode<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>None<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scheduleTask</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>删除并创建Temp文件夹<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.StartCreateTemp,Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>TempDirectoryName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Temp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scheduleTask</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>清理Cef<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.StartCleanCef, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>CefHistoryLogDirectory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>CefHistoryLog<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>KeepCefLogDays<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scheduleTask</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>初始化Session数据<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Bank.SS.Schedule.Tasks.InitializeAmebaSession,Bank.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>开启外设服务<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.StartDeviceService,Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>加载设备信息数据<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Bank.SS.Schedule.Tasks.LoadDeviceInfo,Bank.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>加载CardBin数据<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Bank.SS.Schedule.Tasks.LoadCardBin, Bank.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>启动守护进程<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.StartWatcher, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>更新密码键盘密钥<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Bank.SS.Schedule.Tasks.LoadUpdatePinPadKey,Bank.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>启动监控服务<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.StartAgent, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>启动agent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Bank.SS.Schedule.Tasks.LoadAgent, Bank.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>禁用WPF自身触控<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.DisableWPFTabletSupport,Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>关闭锁屏<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.CloseScreenLocker, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>startupTasks</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endTasks</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>关闭监控服务<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.StopAgent, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>删除Temp文件夹<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.DeleteTemp, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>TempDirectoryName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Temp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scheduleTask</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>处理系统命令<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.SystemCommandProcessor,Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>DelaySeconds<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scheduleTask</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>关闭平台<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.StopPlatform, Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>endTasks</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTrigger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>MachineOccupancyStatusTrigger<span class="token punctuation">&quot;</span></span><span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Triggers.MachineOccupancyStatusTrigger,Awp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tasks</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scheduleTask</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>挂起任务<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Awp.SS.Schedule.Tasks.ExecutePendingTasksAwp.SS.Schedule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>PendingTaskQueueName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>MachineOccupiedPendingTasks<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scheduleTask</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tasks</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scheduleTrigger</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scheduleTaskConfiguration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>通过 <code>workspace\client\dotnet\Log\日期\Log_Default.log</code> 中查看日志，确认问题原因。</p> <p><img src="/DrcbDocs/assets/img/AppErrorLog.bf8da84a.png" alt="APP"></p> <p>通常启动失败有如下可能原因或解决办法：</p> <ul><li><p>请求智能柜台服务器获取设备信息失败</p></li> <li><p>请求密码平台更新密钥失败</p></li> <li><p>删 CefHistoryLog</p></li> <li><p>关闭 AAgent.exe 重启</p></li></ul> <h2 id="设备故障问题"><a href="#设备故障问题" aria-hidden="true" class="header-anchor">#</a> 设备故障问题</h2> <p>逻辑问题：根据文档找到对应的原因</p> <p><img src="/DrcbDocs/assets/img/deviceError.ba299c99.png" alt="device"> <img src="/DrcbDocs/assets/img/deviceErrorDoc.ce3e9c66.png" alt="device"></p> <p>设备问题：<code>HARDWARE_ERROR</code> 或<code>INVALID_HSERVICES</code> 。</p> <p>设备故障解决步骤：</p> <ul><li>重启应用</li> <li>重启电脑</li> <li>重启机具电源</li> <li>机具设备复位</li> <li>设备是否正确归位（卡壳，卡纸，错位）</li> <li>设备线路正常（USB口通信线，电源线）</li> <li>联系硬件厂商</li></ul> <h2 id="通信上传问题"><a href="#通信上传问题" aria-hidden="true" class="header-anchor">#</a> 通信上传问题</h2> <p>通信上传中出问题，大部分是源于 DEV/SIT/UAT 环境服务器地址不同。</p> <p>上传图片失败也可能是服务器磁盘空间已满。</p> <p>通常需要核对服务器地址相关配置文件有：</p> <ul><li><code>workspace\main-stm\src\sdk\utils\request-helper-ayo.js</code></li></ul> <p><img src="/DrcbDocs/assets/img/request.d7ee36a6.png" alt="config"></p> <ul><li><code>workspace\main-stm\static\resource\conf\fileuploadconf.json</code></li></ul> <p><img src="/DrcbDocs/assets/img/fileUpload.0e5cdf97.png" alt="config"></p> <ul><li><code>workspace\client\dotnet\Awp.SS.App.exe.config</code></li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 通信管理配置 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>communicationManagerSettings</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>services</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http<span class="token punctuation">&quot;</span></span> <span class="token attr-name">adapter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>httpAdapter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">serializer</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>jsonSerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http:/10.8.221.177:9016/invokeTrade<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>httpV<span class="token punctuation">&quot;</span></span> <span class="token attr-name">adapter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>httpAdapter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">serializer</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>jsonSerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http:/10.8.221.178:9116/invokeTrade<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>httpAYO<span class="token punctuation">&quot;</span></span> <span class="token attr-name">adapter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>httpAdapter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">serializer</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>jsonSerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http:/10.8.221.253:6661<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--表示watcher的代理服务agent--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>watcherAgent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">adapter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>httpAdapter<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">serializer</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>jsonSerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://localhost:53003/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>services</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>adapters</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>httpAdapter</span> <span class="token attr-name">encoding</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">timeOut</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>600000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">reconnectInterval</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">reconnectCount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>adapters</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>communicationManagerSettings</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>ClientServicePlat\configuration\cspclient.properties</code></li></ul> <p><img src="/DrcbDocs/assets/img/CSPConfig.5ae83abb.png" alt="config"></p> <p>在每次更新配置之后，请及时整理备份文件，便于之后更新可以直接覆盖。</p> <p><img src="/DrcbDocs/assets/img/configCopy.d0b064ab.png" alt="config"></p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/DrcbDocs/deploy/" class="prev">
          发布
        </a></span> <span class="next"><a href="/DrcbDocs/tool/">
          工具
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/DrcbDocs/assets/js/app.5f05759d.js" defer></script><script src="/DrcbDocs/assets/js/15.99c936f7.js" defer></script>
  </body>
</html>
